"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _multer = _interopRequireDefault(require("multer"));
var _cloudinary = _interopRequireDefault(require("cloudinary"));
var _multerStorageCloudinary = require("multer-storage-cloudinary");
// import config from "./config";

var cloudinary = _cloudinary["default"].v2;
cloudinary.config({
  cloud_name: process.env.CLOUDINARY_CLOUD_NAME,
  api_key: process.env.CLOUDINARY_API_KEY,
  api_secret: process.env.CLOUDINARY_API_SECRET
});
var storage = new _multerStorageCloudinary.CloudinaryStorage({
  cloudinary: cloudinary,
  folder: "uploads",
  // Thay đổi tên thư mục đích cho lưu trữ tệp tin
  allowedFormats: ["jpg", "jpeg", "png"],
  transformation: [{
    width: 500,
    height: 500,
    crop: "limit"
  }]
});
var upload = (0, _multer["default"])({
  storage: storage
});
module.exports = upload;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbXVsdGVyIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfY2xvdWRpbmFyeSIsIl9tdWx0ZXJTdG9yYWdlQ2xvdWRpbmFyeSIsImNsb3VkaW5hcnkiLCJjbG91ZGluYXJ5QSIsInYyIiwiY29uZmlnIiwiY2xvdWRfbmFtZSIsInByb2Nlc3MiLCJlbnYiLCJDTE9VRElOQVJZX0NMT1VEX05BTUUiLCJhcGlfa2V5IiwiQ0xPVURJTkFSWV9BUElfS0VZIiwiYXBpX3NlY3JldCIsIkNMT1VESU5BUllfQVBJX1NFQ1JFVCIsInN0b3JhZ2UiLCJDbG91ZGluYXJ5U3RvcmFnZSIsImZvbGRlciIsImFsbG93ZWRGb3JtYXRzIiwidHJhbnNmb3JtYXRpb24iLCJ3aWR0aCIsImhlaWdodCIsImNyb3AiLCJ1cGxvYWQiLCJtdWx0ZXIiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiLi4vc3JjL2F3c2J1Y2tldC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBpbXBvcnQgY29uZmlnIGZyb20gXCIuL2NvbmZpZ1wiO1xyXG5pbXBvcnQgbXVsdGVyIGZyb20gXCJtdWx0ZXJcIjtcclxuaW1wb3J0IGNsb3VkaW5hcnlBIGZyb20gXCJjbG91ZGluYXJ5XCI7XHJcbmltcG9ydCB7IENsb3VkaW5hcnlTdG9yYWdlIH0gZnJvbSBcIm11bHRlci1zdG9yYWdlLWNsb3VkaW5hcnlcIjtcclxuY29uc3QgY2xvdWRpbmFyeSA9IGNsb3VkaW5hcnlBLnYyO1xyXG5cclxuY2xvdWRpbmFyeS5jb25maWcoe1xyXG4gIGNsb3VkX25hbWU6IHByb2Nlc3MuZW52LkNMT1VESU5BUllfQ0xPVURfTkFNRSxcclxuICBhcGlfa2V5OiBwcm9jZXNzLmVudi5DTE9VRElOQVJZX0FQSV9LRVksXHJcbiAgYXBpX3NlY3JldDogcHJvY2Vzcy5lbnYuQ0xPVURJTkFSWV9BUElfU0VDUkVULFxyXG59KTtcclxuXHJcbmNvbnN0IHN0b3JhZ2UgPSBuZXcgQ2xvdWRpbmFyeVN0b3JhZ2Uoe1xyXG4gIGNsb3VkaW5hcnk6IGNsb3VkaW5hcnksXHJcbiAgZm9sZGVyOiBcInVwbG9hZHNcIiwgLy8gVGhheSDEkeG7lWkgdMOqbiB0aMawIG3hu6VjIMSRw61jaCBjaG8gbMawdSB0cuG7ryB04buHcCB0aW5cclxuICBhbGxvd2VkRm9ybWF0czogW1wianBnXCIsIFwianBlZ1wiLCBcInBuZ1wiXSxcclxuICB0cmFuc2Zvcm1hdGlvbjogW3sgd2lkdGg6IDUwMCwgaGVpZ2h0OiA1MDAsIGNyb3A6IFwibGltaXRcIiB9XSxcclxufSk7XHJcblxyXG5jb25zdCB1cGxvYWQgPSBtdWx0ZXIoeyBzdG9yYWdlOiBzdG9yYWdlIH0pO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB1cGxvYWQ7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7O0FBQ0EsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsV0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsd0JBQUEsR0FBQUYsT0FBQTtBQUhBOztBQUlBLElBQU1HLFVBQVUsR0FBR0Msc0JBQVcsQ0FBQ0MsRUFBRTtBQUVqQ0YsVUFBVSxDQUFDRyxNQUFNLENBQUM7RUFDaEJDLFVBQVUsRUFBRUMsT0FBTyxDQUFDQyxHQUFHLENBQUNDLHFCQUFxQjtFQUM3Q0MsT0FBTyxFQUFFSCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0csa0JBQWtCO0VBQ3ZDQyxVQUFVLEVBQUVMLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSztBQUMxQixDQUFDLENBQUM7QUFFRixJQUFNQyxPQUFPLEdBQUcsSUFBSUMsMENBQWlCLENBQUM7RUFDcENiLFVBQVUsRUFBRUEsVUFBVTtFQUN0QmMsTUFBTSxFQUFFLFNBQVM7RUFBRTtFQUNuQkMsY0FBYyxFQUFFLENBQUMsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFLLENBQUM7RUFDdENDLGNBQWMsRUFBRSxDQUFDO0lBQUVDLEtBQUssRUFBRSxHQUFHO0lBQUVDLE1BQU0sRUFBRSxHQUFHO0lBQUVDLElBQUksRUFBRTtFQUFRLENBQUM7QUFDN0QsQ0FBQyxDQUFDO0FBRUYsSUFBTUMsTUFBTSxHQUFHLElBQUFDLGtCQUFNLEVBQUM7RUFBRVQsT0FBTyxFQUFFQTtBQUFRLENBQUMsQ0FBQztBQUUzQ1UsTUFBTSxDQUFDQyxPQUFPLEdBQUdILE1BQU0ifQ==