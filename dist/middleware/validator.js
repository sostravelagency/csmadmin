"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.validateBody = exports.schemas = void 0;
var _joi = _interopRequireDefault(require("joi"));
var _joiDateExtensions = _interopRequireDefault(require("joi-date-extensions"));
var Joi = _joi["default"].extend(_joiDateExtensions["default"]);
var validateBody = function validateBody(schema) {
  return function (req, res, next) {
    var result = req.method != 'GET' ? Joi.validate(req.body, schema) : Joi.validate(req.query, schema);
    if (result.error) {
      return res.status(400).json(result.error);
    }
    if (!req.value) {
      req.value = {};
    }
    req.value['body'] = result.value;
    next();
  };
};
exports.validateBody = validateBody;
var schemas = {
  registerSchema: Joi.object().keys({
    firstName: Joi.string().required(),
    lastName: Joi.string().required(),
    email: Joi.string().email().required(),
    password: Joi.string().required(),
    phoneNo: Joi.number().required(),
    address: Joi.string().required(),
    role: Joi.string().required(),
    verify: Joi.string().required()
  }),
  loginSchema: Joi.object().keys({
    email: Joi.string().email().required(),
    password: Joi.string().required()
  }),
  userCheckSchema: Joi.object().keys({
    email: Joi.string().email().required()
  }),
  sendResetPassword: Joi.object().keys({
    email: Joi.string().email().required()
  }),
  resetPassword: Joi.object().keys({
    email: Joi.string().email().required(),
    verificationCode: Joi.string().required(),
    password: Joi.string().required()
  }),
  supplierDetails: Joi.object().keys({
    storename: Joi.string().required(),
    status: Joi.number().required(),
    shopaddress: Joi.string().required(),
    shopdesc: Joi.string().required(),
    ownername: Joi.string().required(),
    owneraddress: Joi.string().required(),
    email: Joi.string().email().required(),
    password: Joi.string().required(),
    phone: Joi.string().required(),
    areaId: Joi.number().required()
  }),
  category: Joi.object().keys({
    name: Joi.string().required(),
    slug: Joi.string().required()
  }),
  location: Joi.object().keys({
    name: Joi.string().required(),
    status: Joi.number().required()
  }),
  area: Joi.object().keys({
    name: Joi.string().required(),
    locationId: Joi.number().required(),
    status: Joi.number().required()
  })
};
exports.schemas = schemas;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfam9pIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfam9pRGF0ZUV4dGVuc2lvbnMiLCJKb2kiLCJCYXNlSm9pIiwiZXh0ZW5kIiwiRGF0ZUV4dGVuc2lvbiIsInZhbGlkYXRlQm9keSIsInNjaGVtYSIsInJlcSIsInJlcyIsIm5leHQiLCJyZXN1bHQiLCJtZXRob2QiLCJ2YWxpZGF0ZSIsImJvZHkiLCJxdWVyeSIsImVycm9yIiwic3RhdHVzIiwianNvbiIsInZhbHVlIiwiZXhwb3J0cyIsInNjaGVtYXMiLCJyZWdpc3RlclNjaGVtYSIsIm9iamVjdCIsImtleXMiLCJmaXJzdE5hbWUiLCJzdHJpbmciLCJyZXF1aXJlZCIsImxhc3ROYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsInBob25lTm8iLCJudW1iZXIiLCJhZGRyZXNzIiwicm9sZSIsInZlcmlmeSIsImxvZ2luU2NoZW1hIiwidXNlckNoZWNrU2NoZW1hIiwic2VuZFJlc2V0UGFzc3dvcmQiLCJyZXNldFBhc3N3b3JkIiwidmVyaWZpY2F0aW9uQ29kZSIsInN1cHBsaWVyRGV0YWlscyIsInN0b3JlbmFtZSIsInNob3BhZGRyZXNzIiwic2hvcGRlc2MiLCJvd25lcm5hbWUiLCJvd25lcmFkZHJlc3MiLCJwaG9uZSIsImFyZWFJZCIsImNhdGVnb3J5IiwibmFtZSIsInNsdWciLCJsb2NhdGlvbiIsImFyZWEiLCJsb2NhdGlvbklkIl0sInNvdXJjZXMiOlsiLi4vLi4vc3JjL21pZGRsZXdhcmUvdmFsaWRhdG9yLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCYXNlSm9pIGZyb20gJ2pvaSc7XHJcbmltcG9ydCBEYXRlRXh0ZW5zaW9uIGZyb20gJ2pvaS1kYXRlLWV4dGVuc2lvbnMnO1xyXG5jb25zdCBKb2kgPSBCYXNlSm9pLmV4dGVuZChEYXRlRXh0ZW5zaW9uKTtcclxuXHJcbmV4cG9ydCB2YXIgdmFsaWRhdGVCb2R5ID0gKHNjaGVtYSkgPT4ge1xyXG4gICAgcmV0dXJuIChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlcS5tZXRob2QgIT0gJ0dFVCcgPyBKb2kudmFsaWRhdGUocmVxLmJvZHksIHNjaGVtYSkgOiBKb2kudmFsaWRhdGUocmVxLnF1ZXJ5LCBzY2hlbWEpO1xyXG4gICAgICAgIGlmIChyZXN1bHQuZXJyb3IpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHJlc3VsdC5lcnJvcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXJlcS52YWx1ZSkgeyByZXEudmFsdWUgPSB7fTsgfVxyXG4gICAgICAgIHJlcS52YWx1ZVsnYm9keSddID0gcmVzdWx0LnZhbHVlO1xyXG4gICAgICAgIG5leHQoKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHZhciBzY2hlbWFzID0ge1xyXG4gICAgcmVnaXN0ZXJTY2hlbWE6IEpvaS5vYmplY3QoKS5rZXlzKHtcclxuICAgICAgICBmaXJzdE5hbWU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxyXG4gICAgICAgIGxhc3ROYW1lOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcclxuICAgICAgICBlbWFpbDogSm9pLnN0cmluZygpLmVtYWlsKCkucmVxdWlyZWQoKSxcclxuICAgICAgICBwYXNzd29yZDogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXHJcbiAgICAgICAgcGhvbmVObzogSm9pLm51bWJlcigpLnJlcXVpcmVkKCksXHJcbiAgICAgICAgYWRkcmVzczogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXHJcbiAgICAgICAgcm9sZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXHJcbiAgICAgICAgdmVyaWZ5OiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKVxyXG4gICAgfSksXHJcbiAgICBsb2dpblNjaGVtYTogSm9pLm9iamVjdCgpLmtleXMoe1xyXG4gICAgICAgIGVtYWlsOiBKb2kuc3RyaW5nKCkuZW1haWwoKS5yZXF1aXJlZCgpLFxyXG4gICAgICAgIHBhc3N3b3JkOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcclxuICAgIH0pLFxyXG4gICAgdXNlckNoZWNrU2NoZW1hOiBKb2kub2JqZWN0KCkua2V5cyh7XHJcbiAgICAgICAgZW1haWw6IEpvaS5zdHJpbmcoKS5lbWFpbCgpLnJlcXVpcmVkKCksXHJcbiAgICB9KSxcclxuICAgIHNlbmRSZXNldFBhc3N3b3JkOiBKb2kub2JqZWN0KCkua2V5cyh7XHJcbiAgICAgICAgZW1haWw6IEpvaS5zdHJpbmcoKS5lbWFpbCgpLnJlcXVpcmVkKCksXHJcbiAgICB9KSxcclxuICAgIHJlc2V0UGFzc3dvcmQ6IEpvaS5vYmplY3QoKS5rZXlzKHtcclxuICAgICAgICBlbWFpbDogSm9pLnN0cmluZygpLmVtYWlsKCkucmVxdWlyZWQoKSxcclxuICAgICAgICB2ZXJpZmljYXRpb25Db2RlOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcclxuICAgICAgICBwYXNzd29yZDogSm9pLnN0cmluZygpLnJlcXVpcmVkKClcclxuICAgIH0pLFxyXG4gICAgc3VwcGxpZXJEZXRhaWxzOiBKb2kub2JqZWN0KCkua2V5cyh7XHJcbiAgICAgICAgc3RvcmVuYW1lOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcclxuICAgICAgICBzdGF0dXM6IEpvaS5udW1iZXIoKS5yZXF1aXJlZCgpLFxyXG4gICAgICAgIHNob3BhZGRyZXNzOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcclxuICAgICAgICBzaG9wZGVzYzogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXHJcbiAgICAgICAgb3duZXJuYW1lOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcclxuICAgICAgICBvd25lcmFkZHJlc3M6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxyXG4gICAgICAgIGVtYWlsOiBKb2kuc3RyaW5nKCkuZW1haWwoKS5yZXF1aXJlZCgpLFxyXG4gICAgICAgIHBhc3N3b3JkOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcclxuICAgICAgICBwaG9uZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXHJcbiAgICAgICAgYXJlYUlkOiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKVxyXG4gICAgfSksXHJcbiAgICBjYXRlZ29yeTogSm9pLm9iamVjdCgpLmtleXMoe1xyXG4gICAgICAgIG5hbWU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxyXG4gICAgICAgIHNsdWc6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxyXG4gICAgfSksXHJcbiAgICBsb2NhdGlvbjogSm9pLm9iamVjdCgpLmtleXMoe1xyXG4gICAgICAgIG5hbWU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxyXG4gICAgICAgIHN0YXR1czogSm9pLm51bWJlcigpLnJlcXVpcmVkKCksXHJcbiAgICB9KSxcclxuICAgIGFyZWE6IEpvaS5vYmplY3QoKS5rZXlzKHtcclxuICAgICAgICBuYW1lOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcclxuICAgICAgICBsb2NhdGlvbklkOiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKSxcclxuICAgICAgICBzdGF0dXM6IEpvaS5udW1iZXIoKS5yZXF1aXJlZCgpLFxyXG4gICAgfSksXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxJQUFBQSxJQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxrQkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBTUUsR0FBRyxHQUFHQyxlQUFPLENBQUNDLE1BQU0sQ0FBQ0MsNkJBQWEsQ0FBQztBQUVsQyxJQUFJQyxZQUFZLEdBQUcsU0FBZkEsWUFBWUEsQ0FBSUMsTUFBTSxFQUFLO0VBQ2xDLE9BQU8sVUFBQ0MsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLElBQUksRUFBSztJQUN2QixJQUFNQyxNQUFNLEdBQUdILEdBQUcsQ0FBQ0ksTUFBTSxJQUFJLEtBQUssR0FBR1YsR0FBRyxDQUFDVyxRQUFRLENBQUNMLEdBQUcsQ0FBQ00sSUFBSSxF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